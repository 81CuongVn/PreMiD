<!DOCTYPE html>
<html>

<head>
  <title>YouTube Presence</title>
  <script>if (typeof module === 'object') { window.module = module; module = undefined; }</script>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt"
    crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,800" rel="stylesheet">
  <link href="popup.css" rel="stylesheet">
  <script src="../jquery-3.2.1.min.js"></script>
  <script src="popup.js"></script>

  <script>if (window.module) module = window.module;</script>
  <script>
    const { remote, webContents } = require('electron');
    const userData = new Config({
      name: 'userData'
    })
    function quitApp() {
      remote.app.exit(0);
    }

    var shell = require('electron').shell;
    //open links externally by default
    $(document).on('click', 'a[href^="http"]', function (event) {
      event.preventDefault();
      shell.openExternal(this.href);
    });

    $(function () {
      setInterval(function () {
        console.log(userData.get('data'))
        $('#songCover').attr('src', userData.get('data').currentSongCover)
        $('#songTitle').html(userData.get('data').currentSongTitle)
        $('#songAuthor').html(userData.get('data').currentSongAuthor)
      }, 1000)
    })

  </script>

</head>

<body>
  <div id="header">
    <img id="songCover">
    <div id="songTitleWrapper">
      <h1 id="songTitle"></h1>
    </div>
    <h2 id="songAuthor"></h2>
  </div>
  <div id="content">
    <div id="heading">
      <h1 class="noselect">Options</h1>
    </div>
    <div id="optionsTable">
      <table>
        <thead>
          <tr>
            <th></th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="noselect">Enabled</td>
            <td class="right">
              <label class="switch">
                <input class="togglePresence" type="checkbox">
                <span class="slider round"></span>
              </label>
            </td>
          </tr>
          <tr>
            <td class="noselect">YouTube</td>
            <td class="right">
              <label class="switch">
                <input class="toggleYouTube" type="checkbox">
                <span class="slider round"></span>
              </label>
            </td>
          </tr>
          <tr>
            <td class="noselect">YouTube Music</td>
            <td class="right">
              <label class="switch">
                <input class="toggleYouTubeMusic" type="checkbox">
                <span class="slider round"></span>
              </label>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div id="footer">
    <p class="noselect">Made with
      <span id="heart">&hearts;</span> by
      <strong>
        <a target="_blank" title="Click to visit Timeraa's GitHub profile." draggable="false" href="https://github.com/Timeraa/">Timeraa</a>
      </strong>
    </p>
    <p id="version" class="noselect"></p>
  </div>
</body>

</html>